var MoveBox=pc.createScript("moveBox");MoveBox.attributes.add("camera",{type:"entity",description:"Optional, assign a camera entity, otherwise one is created"}),MoveBox.attributes.add("power",{type:"number",default:1,description:"Adjusts the speed of player movement"}),MoveBox.attributes.add("lookSpeed",{type:"number",default:.25,description:"Adjusts the sensitivity of looking"}),MoveBox.prototype.initialize=function(){this.force=new pc.Vec3,this.eulers=new pc.Vec3,this.torque=new pc.Vec3,this.app.keyboard.on(pc.EVENT_KEYDOWN,this.onKeyDown,this),this.game=this.app.root.findByName("Root").script.game,this.isPlayingMachineSound=!1,this.play=!1;var e=this.app;e.mouse.on("mousemove",this._onMouseMove,this),e.mouse.on("mousedown",(function(){}),this),this.entity.collision||console.error("First Person Movement script needs to have a 'collision' component"),this.entity.rigidbody&&this.entity.rigidbody.type===pc.BODYTYPE_DYNAMIC||console.error("First Person Movement script needs to have a DYNAMIC 'rigidbody' component")},MoveBox.prototype.onKeyDown=function(e){e.event.preventDefault()},MoveBox.prototype.update=function(e){this.playerPos=this.entity.getLocalPosition(),this.playerRotation=this.entity.getLocalRotation();var t=this.force,i=(this.torque,this.app),o=this.entity.forward,s=(this.entity.right,0),a=0;this.game.checkIsFreeze()||((i.keyboard.isPressed(pc.KEY_A)||i.keyboard.isPressed(pc.KEY_Q))&&(this.entity.rigidbody.applyTorque(0,1,0),this.play=!0,this.game.decreaseFuel()),i.keyboard.isPressed(pc.KEY_D)&&(this.entity.rigidbody.applyTorque(0,-1,0),this.play=!0,this.game.decreaseFuel()),i.keyboard.isPressed(pc.KEY_W)&&(s+=o.x,a+=o.z,this.play=!0,this.game.decreaseFuel()),i.keyboard.isPressed(pc.KEY_S)&&(s-=o.x,a-=o.z,this.play=!0,this.game.decreaseFuel()),0!==s&&0!==a&&(t.set(s,0,a).normalize().scale(this.power),this.entity.rigidbody.applyForce(t)),this.play&&!this.isPlayingMachineSound&&(this.game.machineAccelerate(),this.isPlayingMachineSound=!0),this.play||(this.game.machineStopAccelerate(),this.isPlayingMachineSound=!1),this.play=!1,this.camera.setLocalEulerAngles(this.eulers.y,this.eulers.x,0))},MoveBox.prototype._onMouseMove=function(e){(pc.Mouse.isPointerLocked()||e.buttons[0])&&(this.eulers.x-=this.lookSpeed*e.dx,this.eulers.y-=this.lookSpeed*e.dy)},MoveBox.prototype._createCamera=function(){this.camera=new pc.Entity,this.camera.setName("First Person Camera"),this.camera.addComponent("camera"),this.entity.addChild(this.camera),this.camera.translateLocal(0,10,18)};var StartGame=pc.createScript("startGame");StartGame.prototype.initialize=function(){var t=this;setTimeout((function(){t.loadScene(t.sceneName)}),1e3)},StartGame.prototype.update=function(t){};var EventOnclick=pc.createScript("eventOnclick");EventOnclick.attributes.add("sceneName",{type:"string",default:"",title:"Scene name to load"}),EventOnclick.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},EventOnclick.prototype.loadScene=function(e){var t=this.app.root.findByName("Root"),n=this.app.scenes.find(e);this.app.scenes.loadSceneHierarchy(n.url,(function(e,n){e?console.error(e):t.destroy()}))},EventOnclick.prototype.onPress=function(e){var t=this;setTimeout((function(){t.loadScene(t.sceneName)}))};var BuyButtonClick=pc.createScript("buyButtonClick");BuyButtonClick.attributes.add("font",{type:"asset",assetType:"font"}),BuyButtonClick.prototype.initialize=function(){this.buyUI=this.app.root.findByName("Buy Shop"),this.buyUI.enabled=!1,this.entity.element.on("mousedown",this.onPress,this),console.log("initialized")},BuyButtonClick.prototype.update=function(e){},BuyButtonClick.prototype.onPress=function(){var e=["Wood","Wheat","Coal","Ship Repairs (2HP)"];this.game=this.app.root.findByName("Root").script.game;var t;this.game.islandCrashed;this.screenUI=this.app.root.findByName("Main Shop"),this.buyUI=this.app.root.findByName("Buy Shop"),console.log("pressed"),console.log(this.screenUI);var o=150;try{for(t=0;t<e.length;t++){var i=new pc.Entity;i.name=e[t],i.addComponent("element",{type:pc.ELEMENTTYPE_TEXT,alignment:new pc.Vec2(.5,.5),anchor:new pc.Vec4(.4,.5,.5,.5),color:new pc.Color(0,0,0,1),pivot:new pc.Vec2(.5,.5),width:151,height:60,fontAsset:40393281,fontSize:24}),i.element.text=e[t],i.setLocalPosition(-380,o,0),console.log("set",o),this.buyUI.addChild(i),o-=80}this.app.root.findByName("Wood Price Text").element.text=this.game.woodPrice,this.app.root.findByName("Wheat Price Text").element.text=this.game.wheatPrice,this.app.root.findByName("Coal Price Text").element.text=this.game.coalPrice,this.app.root.findByName("Ship Repair Price Text").element.text=10}catch(e){console.log(e.message)}this.screenUI.enabled=!1,this.buyUI.enabled=!0};var SellButtonClick=pc.createScript("sellButtonClick");SellButtonClick.attributes.add("font",{type:"asset",assetType:"font"}),SellButtonClick.prototype.initialize=function(){this.sellUI=this.app.root.findByName("Sell Shop"),this.sellUI.enabled=!1,this.entity.element.on("mousedown",this.onPress,this),console.log("initialized")},SellButtonClick.prototype.update=function(e){},SellButtonClick.prototype.onPress=function(){var e,t=["Wood","Wheat","Coal"];this.screenUI=this.app.root.findByName("Main Shop"),this.sellUI=this.app.root.findByName("Sell Shop"),console.log("pressed"),this.game=this.app.root.findByName("Root").script.game,console.log(this.screenUI),console.log(this.font);var o=150;try{for(e=0;e<t.length;e++){var l=new pc.Entity;l.name=t[e],l.addComponent("element",{type:pc.ELEMENTTYPE_TEXT,alignment:new pc.Vec2(.5,.5),anchor:new pc.Vec4(.4,.5,.5,.5),color:new pc.Color(0,0,0,1),pivot:new pc.Vec2(.5,.5),width:151,height:60,fontAsset:40393281,fontSize:24}),l.element.text=t[e],l.setLocalPosition(-380,o,0),console.log("set",o),this.sellUI.addChild(l),o-=80}this.app.root.findByName("Wood Sell Price Text").element.text=this.game.woodPrice,this.app.root.findByName("Wheat Sell Price Text").element.text=this.game.wheatPrice,this.app.root.findByName("Coal Sell Price Text").element.text=this.game.coalPrice}catch(e){console.log(e.message)}this.screenUI.enabled=!1,this.sellUI.enabled=!0};var BoatHealth=pc.createScript("boatHealth");BoatHealth.prototype.initialize=function(){this.health=this.app.root.findByName("boatHealth"),this.takeDamage=0,this.entity.collision.on("collisionStart",this.onCollisionStart,this)},BoatHealth.prototype.update=function(t){},BoatHealth.prototype.onCollisionStart=function(t){var a=(new pc.Vec3).copy(this.health.getLocalScale());a.x<.01&&(a.x=0,this.entity.script.dead=!0),a.x>1&&(a.x=1),this.takeDamage>0&&(a.x-=this.takeDamage,this.takeDamage=0),this.health.setLocalScale(a),t.other.rigidbody&&(a.x=pc.math.lerp(a.x,0,.5)),this.health.setLocalScale(a)};var Bounce=pc.createScript("bounce");Bounce.attributes.add("offsetCurve",{type:"curve",title:"Offset Curve",curves:["x","y","z"]}),Bounce.attributes.add("duration",{type:"number",default:3,title:"Duration (secs)"}),Bounce.prototype.initialize=function(){this.startPosition=this.entity.getPosition().clone(),this.position=new pc.Vec3,this.time=0},Bounce.prototype.update=function(t){this.time+=t,this.time>this.duration&&(this.time-=this.duration);var i=this.time/this.duration,e=this.offsetCurve.value(i);this.position.copy(this.startPosition),this.position.x+=e[0],this.position.y+=e[1],this.position.z+=e[2],this.entity.setPosition(this.position)};var BoatBounce=pc.createScript("boatBounce");BoatBounce.attributes.add("offsetCurve",{type:"curve",title:"Offset Curve",curves:["x","y","z"]}),BoatBounce.attributes.add("duration",{type:"number",default:3,title:"Duration (secs)"}),BoatBounce.prototype.initialize=function(){this.startPosition=this.entity.getPosition().clone(),this.position=new pc.Vec3,this.time=0},BoatBounce.prototype.update=function(t){this.time+=t,this.time>this.duration&&(this.time-=this.duration);var i=this.time/this.duration;this.offsetCurve.value(i);this.position.copy(this.startPosition),this.entity.setPosition(this.position)};"undefined"!=typeof document&&(
/*! FPSMeter 0.3.1 - 9th May 2013 | https://github.com/Darsain/fpsmeter */
function(t,e){function s(t,e){for(var n in e)try{t.style[n]=e[n]}catch(t){}return t}function H(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function R(t,e){if("array"!==H(e))return-1;if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function I(){var t,e=arguments;for(t in e[1])if(e[1].hasOwnProperty(t))switch(H(e[1][t])){case"object":e[0][t]=I({},e[0][t],e[1][t]);break;case"array":e[0][t]=e[1][t].slice(0);break;default:e[0][t]=e[1][t]}return 2<e.length?I.apply(null,[e[0]].concat(Array.prototype.slice.call(e,2))):e[0]}function N(t){return 1===(t=Math.round(255*t).toString(16)).length?"0"+t:t}function S(t,e,n,o){t.addEventListener?t[o?"removeEventListener":"addEventListener"](e,n,!1):t.attachEvent&&t[o?"detachEvent":"attachEvent"]("on"+e,n)}function D(t,e){function g(t,e,n,o){return h[0|t][Math.round(Math.min((e-n)/(o-n)*M,M))]}function r(){F.legend.fps!==q&&(F.legend.fps=q,F.legend[c]=q?"FPS":"ms"),b=q?v.fps:v.duration,F.count[c]=999<b?"999+":b.toFixed(99<b?0:O.decimals)}function m(){for(l=n(),P<l-O.threshold&&(v.fps-=v.fps/Math.max(1,60*O.smoothing/O.interval),v.duration=1e3/v.fps),w=O.history;w--;)T[w]=0===w?v.fps:T[w-1],j[w]=0===w?v.duration:j[w-1];if(r(),O.heat){if(z.length)for(w=z.length;w--;)z[w].el.style[o[z[w].name].heatOn]=q?g(o[z[w].name].heatmap,v.fps,0,O.maxFps):g(o[z[w].name].heatmap,v.duration,O.threshold,0);if(F.graph&&o.column.heatOn)for(w=C.length;w--;)C[w].style[o.column.heatOn]=q?g(o.column.heatmap,T[w],0,O.maxFps):g(o.column.heatmap,j[w],O.threshold,0)}if(F.graph)for(y=0;y<O.history;y++)C[y].style.height=(q?T[y]?Math.round(x/O.maxFps*Math.min(T[y],O.maxFps)):0:j[y]?Math.round(x/O.threshold*Math.min(j[y],O.threshold)):0)+"px"}function k(){20>O.interval?(p=i(k),m()):(p=setTimeout(k,O.interval),f=i(m))}function G(t){(t=t||window.event).preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0),v.toggle()}function U(){O.toggleOn&&S(F.container,O.toggleOn,G,1),t.removeChild(F.container)}function V(){if(F.container&&U(),o=D.theme[O.theme],!(h=o.compiledHeatmaps||[]).length&&o.heatmaps.length){for(y=0;y<o.heatmaps.length;y++)for(h[y]=[],w=0;w<=M;w++){var e,n=h[y],a=w;e=.33/M*w;var i=o.heatmaps[y].saturation,l=o.heatmaps[y].lightness,p=void 0,c=void 0,u=void 0,d=u=void 0,f=p=c=void 0;f=void 0;0===(u=.5>=l?l*(1+i):l+i-l*i)?e="#000":(c=(u-(d=2*l-u))/u,f=(e*=6)-(p=Math.floor(e)),f*=u*c,0===p||6===p?(p=u,c=d+f,u=d):1===p?(p=u-f,c=u,u=d):2===p?(p=d,c=u,u=d+f):3===p?(p=d,c=u-f):4===p?(p=d+f,c=d):(p=u,c=d,u-=f),e="#"+N(p)+N(c)+N(u)),n[a]=e}o.compiledHeatmaps=h}for(var b in F.container=s(document.createElement("div"),o.container),F.count=F.container.appendChild(s(document.createElement("div"),o.count)),F.legend=F.container.appendChild(s(document.createElement("div"),o.legend)),F.graph=O.graph?F.container.appendChild(s(document.createElement("div"),o.graph)):0,z.length=0,F)F[b]&&o[b].heatOn&&z.push({name:b,el:F[b]});if(C.length=0,F.graph)for(F.graph.style.width=O.history*o.column.width+(O.history-1)*o.column.spacing+"px",w=0;w<O.history;w++)C[w]=F.graph.appendChild(s(document.createElement("div"),o.column)),C[w].style.position="absolute",C[w].style.bottom=0,C[w].style.right=w*o.column.width+w*o.column.spacing+"px",C[w].style.width=o.column.width+"px",C[w].style.height="0px";s(F.container,O),r(),t.appendChild(F.container),F.graph&&(x=F.graph.clientHeight),O.toggleOn&&("click"===O.toggleOn&&(F.container.style.cursor="pointer"),S(F.container,O.toggleOn,G))}"object"===H(t)&&undefined===t.nodeType&&(e=t,t=document.body),t||(t=document.body);var o,h,l,p,f,x,b,w,y,v=this,O=I({},D.defaults,e||{}),F={},C=[],M=100,z=[],E=O.threshold,A=0,P=n()-E,T=[],j=[],q="fps"===O.show;v.options=O,v.fps=0,v.duration=0,v.isPaused=0,v.tickStart=function(){A=n()},v.tick=function(){l=n(),E+=(l-P-E)/O.smoothing,v.fps=1e3/E,v.duration=A<P?E:l-A,P=l},v.pause=function(){return p&&(v.isPaused=1,clearTimeout(p),a(p),a(f),p=f=0),v},v.resume=function(){return p||(v.isPaused=0,k()),v},v.set=function(t,e){return O[t]=e,q="fps"===O.show,-1!==R(t,u)&&V(),-1!==R(t,d)&&s(F.container,O),v},v.showDuration=function(){return v.set("show","ms"),v},v.showFps=function(){return v.set("show","fps"),v},v.toggle=function(){return v.set("show",q?"ms":"fps"),v},v.hide=function(){return v.pause(),F.container.style.display="none",v},v.show=function(){return v.resume(),F.container.style.display="block",v},v.destroy=function(){v.pause(),U(),v.tick=v.tickStart=function(){}},V(),k()}var n,o=t.performance;n=o&&(o.now||o.webkitNow)?o[o.now?"now":"webkitNow"].bind(o):function(){return+new Date};for(var a=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,i=t.requestAnimationFrame,h=0,l=0,p=(o=["moz","webkit","o"]).length;l<p&&!a;++l)i=(a=t[o[l]+"CancelAnimationFrame"]||t[o[l]+"CancelRequestAnimationFrame"])&&t[o[l]+"RequestAnimationFrame"];a||(i=function(e){var o=n(),a=Math.max(0,16-(o-h));return h=o+a,t.setTimeout((function(){e(o+a)}),a)},a=function(t){clearTimeout(t)});var c="string"===H(document.createElement("div").textContent)?"textContent":"innerText";D.extend=I,window.FPSMeter=D,D.defaults={interval:100,smoothing:10,show:"fps",toggleOn:"click",decimals:1,maxFps:60,threshold:100,position:"absolute",zIndex:10,left:"5px",top:"5px",right:"auto",bottom:"auto",margin:"0 0 0 0",theme:"dark",heat:0,graph:0,history:20};var u=["toggleOn","theme","heat","graph","history"],d="position zIndex left top right bottom margin".split(" ")}(window),function(t,e){e.theme={};var n=e.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:"5px",minWidth:"95px",height:"30px",lineHeight:"30px",textAlign:"right",textShadow:"none"},count:{heatOn:null,heatmap:null,position:"absolute",top:0,right:0,padding:"5px 10px",height:"30px",fontSize:"24px",fontFamily:"Consolas, Andale Mono, monospace",zIndex:2},legend:{heatOn:null,heatmap:null,position:"absolute",top:0,left:0,padding:"5px 10px",height:"30px",fontSize:"12px",lineHeight:"32px",fontFamily:"sans-serif",textAlign:"left",zIndex:2},graph:{heatOn:null,heatmap:null,position:"relative",boxSizing:"padding-box",MozBoxSizing:"padding-box",height:"100%",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};e.theme.dark=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.8}],container:{background:"#222",color:"#fff",border:"1px solid #1a1a1a",textShadow:"1px 1px 0 #222"},count:{heatOn:"color"},column:{background:"#3f3f3f"}}),e.theme.light=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.5}],container:{color:"#666",background:"#fff",textShadow:"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},count:{heatOn:"color"},column:{background:"#eaeaea"}}),e.theme.colorful=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.6}],container:{heatOn:"backgroundColor",background:"#888",color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.2)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},column:{background:"#777",backgroundColor:"rgba(0,0,0,.2)"}}),e.theme.transparent=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.5}],container:{padding:0,color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.5)"},count:{padding:"0 5px",height:"40px",lineHeight:"40px"},legend:{padding:"0 5px",height:"40px",lineHeight:"42px"},graph:{height:"40px"},column:{width:5,background:"#999",heatOn:"backgroundColor",opacity:.5}})}(window,FPSMeter));var Fps=pc.createScript("fps");Fps.prototype.initialize=function(){this.fps=new FPSMeter({heat:!0,graph:!0})},Fps.prototype.update=function(t){this.fps.tick()};var ProgressBar=pc.createScript("progressBar");ProgressBar.attributes.add("progressImage",{type:"entity"}),ProgressBar.attributes.add("progressImageMaxWidth",{type:"number"}),ProgressBar.prototype.initialize=function(){this.setProgress(0),this.increase=!0},ProgressBar.prototype.setProgress=function(e){e=pc.math.clamp(e,0,1),this.progress=e;var r=pc.math.lerp(0,this.progressImageMaxWidth,e);this.progressImage.element.width=r,this.progressImage.element.rect.z=e,this.progressImage.element.rect=this.progressImage.element.rect},ProgressBar.prototype.update=function(e){this.setProgress(this.progress)};var Stockpile=pc.createScript("Stockpile");Stockpile.attributes.add("bananaCounter",{type:"entity",description:"banana-Counter"}),Stockpile.attributes.add("appleCounter",{type:"entity",description:"banana-Counter"}),Stockpile.attributes.add("mangoCounter",{type:"entity",description:"mango-Counter"}),Stockpile.attributes.add("moneyText",{type:"entity",description:"Money text"}),Stockpile.attributes.add("banana",{type:"number"}),Stockpile.attributes.add("apple",{type:"number"}),Stockpile.attributes.add("mango",{type:"number"}),Stockpile.attributes.add("money",{type:"number"}),Stockpile.prototype.initialize=function(){this.mangoText=this.mangoCounter.findByName("text"),this.appleText=this.appleCounter.findByName("text"),this.bananaText=this.bananaCounter.findByName("text"),this.SetMangoValue(10),this.SetMoney(2999)},Stockpile.prototype.SetMoney=function(t){this.moneyText.element.text="$"+t,this.money=t},Stockpile.prototype.SetMangoValue=function(t){this.mangoText.element.text=t,this.mango=t},Stockpile.prototype.SetappleValue=function(t){this.appleText.element.text=t,this.apple=t},Stockpile.prototype.SetBananaValue=function(t){this.bananaText.element.text=t,this.banana=t},Stockpile.prototype.update=function(t){};var Trigger=pc.createScript("trigger");Trigger.attributes.add("shopScreen",{type:"entity",description:"Shop screen entity"}),Trigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.onTriggerEnter,this),this.entity.collision.on("collisionstart",this.onCollisionStart,this),this.game=this.app.root.findByName("Root").script.game},Trigger.prototype.update=function(e){},Trigger.prototype.onTriggerEnter=function(e){console.log(e)},Trigger.prototype.onCollisionStart=function(e){if(console.log(e),e.other.rigidbody){var t=e.other.rigidbody.entity;this.game=this.app.root.findByName("Root").script.game,this.shopScreen=this.app.root.findByName("Main Shop"),this.refuelScreen=this.app.root.findByName("Refuel Shop"),"Floating Island 1"===t.name?(this.game.islandCrashed=1,this.game.openBuySellScreen(this.shopScreen),this.game.freeze(),this.game.randomPrice()):"Floating Island 2"===t.name?(this.game.islandCrashed=2,this.game.openBuySellScreen(this.shopScreen),this.game.freeze(),this.game.randomPrice()):"Floating Island 3"===t.name?(this.game.islandCrashed=3,this.game.openBuySellScreen(this.shopScreen),this.game.freeze(),this.game.randomPrice()):"Pertamini"===t.name?(this.app.root.findByName("Refueling Text").element.text="Refuel for "+this.game.fuelPrice,this.game.openBuySellScreen(this.refuelScreen),this.game.freeze()):"drum"===t.name.toLowerCase().substr(0,4)&&this.destroyDrum(t)}},Trigger.prototype.destroyDrum=function(e){this.game.onBoatCollideWithDrum(),this.game.decreaseBoatHealth(15)};var UiStats=pc.createScript("uiStats");UiStats.prototype.initialize=function(){this.btnPlus=this.entity.findByName("btn-plus"),this.btnMinus=this.entity.findByName("btn-minus"),this.progressBar=this.entity.findByName("progress-bar"),this.progressText=this.progressBar.findByName("text"),this.value=0;this.app.root.findByName("Wood Price Text").element.text,this.app.root.findByName("Wheat Price Text").element.text,this.app.root.findByName("Coal Price Text").element.text,this.app.root.findByName("Ship Repair Price Text").element.text;this.setValue(0),this.btnPlus.element.on("click",this.addButton,this),this.btnMinus.element.on("click",this.subtractButton,this)},UiStats.prototype.update=function(){this.game=this.app.root.findByName("Root").script.game,this.woodPrice=this.game.woodPrice,this.wheatPrice=this.game.wheatPrice,this.coalPrice=this.game.coalPrice,this.shipRepairPrice=10},UiStats.prototype.setValue=function(t){this.value=pc.math.clamp(t,0,15),this.progressBar.script.progressBar.setProgress(this.value/15),this.progressText.element.text=this.value+" / 15"},UiStats.prototype.addButton=function(){this.setValue(this.value+1),"Wood Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wood Total Cost Text").element.text=this.value*this.woodPrice,this.app.root.findByName("Wood Quantity Text").element.text=this.value):"Wheat Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wheat Total Cost Text").element.text=this.value*this.wheatPrice,this.app.root.findByName("Wheat Quantity Text").element.text=this.value):"Coal Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Coal Total Cost Text").element.text=this.value*this.coalPrice,this.app.root.findByName("Coal Quantity Text").element.text=this.value):"Ship Repair Quantity"==this.btnPlus.parent.name&&(this.app.root.findByName("Ship Repair Total Cost Text").element.text=this.value*this.shipRepairPrice,this.app.root.findByName("Ship Repair Quantity Text").element.text=this.value);var t=parseInt(this.app.root.findByName("Wood Total Cost Text").element.text)+parseInt(this.app.root.findByName("Wheat Total Cost Text").element.text)+parseInt(this.app.root.findByName("Coal Total Cost Text").element.text)+parseInt(this.app.root.findByName("Ship Repair Total Cost Text").element.text);this.app.root.findByName("Final Total Cost Text").element.text=t,this.app.root.findByName("Purchase Items Text").element.text="Buy Items for "+t},UiStats.prototype.subtractButton=function(){this.setValue(this.value-1),"Wood Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wood Total Cost Text").element.text=this.value*this.woodPrice,this.app.root.findByName("Wood Quantity Text").element.text=this.value):"Wheat Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wheat Total Cost Text").element.text=this.value*this.wheatPrice,this.app.root.findByName("Wheat Quantity Text").element.text=this.value):"Coal Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Coal Total Cost Text").element.text=this.value*this.coalPrice,this.app.root.findByName("Coal Quantity Text").element.text=this.value):"Ship Repair Quantity"==this.btnPlus.parent.name&&(this.app.root.findByName("Ship Repair Total Cost Text").element.text=this.value*this.shipRepairPrice,this.app.root.findByName("Ship Repair Quantity Text").element.text=this.value);var t=parseInt(this.app.root.findByName("Wood Total Cost Text").element.text)+parseInt(this.app.root.findByName("Wheat Total Cost Text").element.text)+parseInt(this.app.root.findByName("Coal Total Cost Text").element.text)+parseInt(this.app.root.findByName("Ship Repair Total Cost Text").element.text);this.app.root.findByName("Final Total Cost Text").element.text=t,this.app.root.findByName("Purchase Items Text").element.text="Buy Items for "+t};var BtnStates=pc.createScript("btnStates");BtnStates.attributes.add("hoverAsset",{type:"asset",assetType:"texture"}),BtnStates.attributes.add("activeAsset",{type:"asset",assetType:"texture"}),BtnStates.prototype.initialize=function(){this.originalTexture=this.entity.element.textureAsset,this.hovered=!1,this.entity.element.on("mouseenter",this.onEnter,this),this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("mouseup",this.onRelease,this),this.entity.element.on("mouseleave",this.onLeave,this),this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("touchend",this.onRelease,this)},BtnStates.prototype.onEnter=function(t){this.hovered=!0,t.element.textureAsset=this.hoverAsset,document.body.style.cursor="pointer"},BtnStates.prototype.onLeave=function(t){this.hovered=!1,t.element.textureAsset=this.originalTexture,document.body.style.cursor="default"},BtnStates.prototype.onPress=function(t){t.element.textureAsset=this.activeAsset},BtnStates.prototype.onRelease=function(t){t.element.textureAsset=this.hovered?this.hoverAsset:this.originalTexture};var QuantityProgressBar=pc.createScript("quantityProgressBar");QuantityProgressBar.attributes.add("quantityProgressImage",{type:"entity"}),QuantityProgressBar.attributes.add("quantityProgressImageMaxWidth",{type:"number"}),QuantityProgressBar.prototype.initialize=function(){this.setProgress(0)},QuantityProgressBar.prototype.setProgress=function(t){t=pc.math.clamp(t,0,1),this.progress=t;var e=pc.math.lerp(0,this.quantityProgressImageMaxWidth,t);this.quantityProgressImage.element.width=e,this.quantityProgressImage.element.rect.z=t,this.quantityProgressImage.element.rect=this.quantityProgressImage.element.rect};var Storage=pc.createScript("storage");Storage.prototype.initialize=function(){this.storageSupported=void 0!==Storage},Storage.prototype.store=function(t,e){this.storageSupported&&localStorage.setItem("mercantile"+t,e)},Storage.prototype.loadString=function(t,e){return this.storageSupported?localStorage["mercantile"+t]:e},Storage.prototype.loadNumber=function(t,e){var o=e;return this.storageSupported&&(t="mercantile"+t)in localStorage&&(o=Number(localStorage[t]),isNaN(o)&&(o=e)),o};var TesIsland=pc.createScript("tesIsland");TesIsland.prototype.initialize=function(){this.storage=this.entity.script.storage},TesIsland.prototype.update=function(t){this.storage.store("island","(tes) hello world!")};var TesIsland2=pc.createScript("tesIsland2");TesIsland2.prototype.initialize=function(){this.storage=this.entity.script.storage},TesIsland2.prototype.update=function(t){};var Audio=pc.createScript("audio");Audio.attributes.add("fuelAlarmSound",{type:"string"}),Audio.attributes.add("drumHitSound",{type:"string"}),Audio.attributes.add("machineSound",{type:"string"}),Audio.attributes.add("waterSound",{type:"string"}),Audio.attributes.add("machineAccelerateSound",{type:"string"}),Audio.attributes.add("clickSound",{type:"string"}),Audio.attributes.add("splashScreenSound",{type:"string"}),Audio.prototype.initialize=function(){this.game=this.app.root.findByName("Root").script.game,this.sounds=this.entity.children[0].sound,this.sounds.slot("machine").loop=!0,this.sounds.slot("splashscreen").loop=!0,this.sounds.slot("machine").volume=.4,this.sounds.slot("water").volume=.4,this.game.on("collision",this.onCollision,this),this.game.on("warning",this.onLowFuel,this),this.game.on("gameover",this.gameOver,this),this.game.on("machineAcceleration",this.machineAcceleration,this),this.game.on("stopMachineAcceleration",this.stopMachineAcceleration,this),this.game.on("splashscreen",this.onSplashScreen,this),this.onSplashScreen()},Audio.prototype.update=function(t){},Audio.prototype.playOneOffSound=function(t){t&&this.sounds.play(t)},Audio.prototype.onFuelOut=function(){this.onLowFuel(),this.onCollision()},Audio.prototype.onLowFuel=function(){this.playOneOffSound(this.fuelAlarmSound)},Audio.prototype.onCollision=function(t){this.playOneOffSound(this.drumHitSound)},Audio.prototype.gameOver=function(){this.sounds.stop()},Audio.prototype.machineAcceleration=function(){this.game.checkIsFreeze()||this.playOneOffSound(this.machineAccelerateSound)},Audio.prototype.stopMachineAcceleration=function(){this.sounds.stop(this.machineAccelerateSound)},Audio.prototype.playClickSound=function(){this.playOneOffSound(this.clickSound)},Audio.prototype.onSplashScreen=function(){this.sounds.slot("splashscreen").volume=.4,this.playOneOffSound(this.splashScreenSound)},Audio.prototype.offSplashScreen=function(){this.sounds.slot("splashscreen").volume=.2,this.playOneOffSound(this.machineSound),this.playOneOffSound(this.waterSound)};var Game=pc.createScript("game");Game.attributes.add("gameOverScreen",{type:"entity"}),Game.attributes.add("totalScoreLabel",{type:"entity"}),Game.attributes.add("woodCounterText",{type:"entity"}),Game.attributes.add("wheatCounterText",{type:"entity"}),Game.attributes.add("coalCounterText",{type:"entity"}),Game.attributes.add("myBalanceText",{type:"entity"}),Game.prototype.initialize=function(){this.boatHealth=100,this.fuel=500,this.gamePause=!1,this.isFreeze=!1,this.islandCrashed=0,this.woodPrice=0,this.wheatPrice=0,this.coalPrice=0,this.fuelPrice=10,this.myWood=0,this.myWheat=0,this.myCoal=0,this.balance=500,this.boat=this.app.root.findByName("Boat").script.moveBox,this.splashEntities=this.app.root.findByName("Splashscreen"),this.screenInitial=this.app.root.findByName("ScreenInitial"),this.screen2d=this.app.root.findByName("2D Screen"),this.screenInGame=this.app.root.findByName("ScreenInGame"),this.screenPause=this.app.root.findByName("ScreenPause"),this.audio=this.app.root.findByName("Audio").script.audio},Game.prototype.update=function(e){TWEEN.update()},Game.prototype.onBoatCollideWithDrum=function(){this.fire("collision",!0),this.fire("healthlow"),this.fire("warning")},Game.prototype.decreaseBoatHealth=function(e){e>this.boatHealth?(this.boatHealth=0,this.gameOver()):this.boatHealth-=e,this.fire("setHealthBarValue",this.boatHealth)},Game.prototype.unpause=function(){this.gamePause=!1,this.screenInGame.enabled=!0,this.screenPause.enabled=!1,this.screen2d.enabled=!0},Game.prototype.pause=function(){this.gamePause=!0,this.screenInGame.enabled=!1,this.screen2d.enabled=!1,this.screenPause.enabled=!0},Game.prototype.freeze=function(){this.isFreeze=!0},Game.prototype.unFreeze=function(){this.isFreeze=!1},Game.prototype.checkIsFreeze=function(){return this.isFreeze},Game.prototype.decreaseFuel=function(){this.fuel-=.05,this.fuel<=0?this.gameOver():(this.fuel<100&&this.fire("fuellow"),this.fire("setFuelValue",this.fuel))},Game.prototype.gameOver=function(){this.pause(),this.freeze(),this.screen2d.enabled=!1,this.screenInGame.enabled=!1,this.screenInitial.enabled=!1,this.screenPause.enabled=!1,this.gameOverScreen.enabled=!0,this.totalScoreLabel.element.text="YOUR SCORE: "+this.getMyBalance()},Game.prototype.machineAccelerate=function(){this.fire("machineAcceleration")},Game.prototype.machineStopAccelerate=function(){this.fire("stopMachineAcceleration")},Game.prototype.startGame=function(){this.splashEntities.enabled=!1,this.screenInitial.enabled=!1,this.screen2d.enabled=!0,this.screenInGame.enabled=!0,this.audio.offSplashScreen()},Game.prototype.splashScreen=function(){this.screenInGame.enabled=!1,this.screen2d.enabled=!1,this.screenPause.enabled=!1,this.splashEntities.enabled=!0,this.screenInitial.enabled=!0,this.fire("splashscreen")},Game.prototype.restart=function(){this.boatHealth=100,this.fuel=500,this.gamePause=!1,this.isFreeze=!1,this.islandCrashed=0,this.woodPrice=0,this.wheatPrice=0,this.coalPrice=0,this.gamePause=!1,this.screenInGame.enabled=!0,this.screenPause.enabled=!1,this.screen2d.enabled=!0,this.fire("setHealthBarValue",this.boatHealth),this.fire("setFuelValue",this.fuel),this.boat.entity.rigidbody.teleport(82.714,5,1.066,-180,0,-180)},Game.prototype.openBuySellScreen=function(e){e.enabled=!0,this.screenInGame.enabled=!1,this.screen2d.enabled=!1},Game.prototype.closeBuySellScreen=function(e){e.enabled=!1,this.screenInGame.enabled=!0,this.screen2d.enabled=!0},Game.prototype.updateInventory=function(e,t,a,i){e?(this.myWood+=t,this.myWheat+=a,this.myCoal+=i):(this.myWood-=t,this.myWheat-=a,this.myCoal-=i),this.updateInventoryLabels()},Game.prototype.updateInventoryLabels=function(){this.woodCounterText.element.text=this.myWood,this.wheatCounterText.element.text=this.myWheat,this.coalCounterText.element.text=this.myCoal},Game.prototype.getMyBalance=function(){return this.balance},Game.prototype.decreaseMyBalance=function(e){this.balance>=e&&(this.balance-=e),this.displayBalance()},Game.prototype.addMyBalance=function(e){this.balance+=e,this.displayBalance()},Game.prototype.displayBalance=function(e){this.myBalanceText.element.text="$"+this.balance},Game.prototype.addHealth=function(e){this.boatHealth+=2*e,this.fire("setHealthBarValue",this.boatHealth)},Game.prototype.randomPrice=function(){return 1===this.islandCrashed?(this.woodPrice=Math.floor(16*Math.random()+35),this.wheatPrice=Math.floor(4*Math.random()+7),this.coalPrice=Math.floor(21*Math.random()+60)):2===this.islandCrashed?(this.woodPrice=Math.floor(16*Math.random()+25),this.wheatPrice=Math.floor(7*Math.random()+9),this.coalPrice=Math.floor(16*Math.random()+75)):3===this.islandCrashed&&(this.woodPrice=Math.floor(19*Math.random()+27),this.wheatPrice=Math.floor(4*Math.random()+10),this.coalPrice=Math.floor(26*Math.random()+70)),{woodPrice:this.woodPrice,wheatPrice:this.wheatPrice,coalPrice:this.coalPrice}};var HealthBar=pc.createScript("healthBar");HealthBar.attributes.add("progressImage",{type:"entity"}),HealthBar.attributes.add("progressImageMaxWidth",{type:"number"}),HealthBar.prototype.initialize=function(){this.setProgress(50),this.increase=!0,this.healthValue=100,this.game=this.app.root.findByName("Root").script.game,this.game.on("setHealthBarValue",this.setHealthBarValue,this)},HealthBar.prototype.update=function(e){this.healthValue>=85?this.progressImage.element.color=pc.Color.GREEN:this.healthValue>=50?this.progressImage.element.color=pc.Color.YELLOW:this.healthValue>=25?this.progressImage.element.color=pc.Color.MAGENTA:this.healthValue>0&&(this.progressImage.element.color=pc.Color.RED)},HealthBar.prototype.setProgress=function(e){e=pc.math.clamp(e,0,1),this.progress=e;var t=pc.math.lerp(0,this.progressImageMaxWidth,e);this.progressImage.element.width=t,this.progressImage.element.rect.z=e,this.progressImage.element.rect=this.progressImage.element.rect},HealthBar.prototype.setHealthBarValue=function(e){var t=e/100;this.setProgress(t),this.healthValue=e};var ExitMainShop=pc.createScript("exitMainShop");ExitMainShop.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},ExitMainShop.prototype.update=function(t){},ExitMainShop.prototype.onPress=function(){this.game=this.app.root.findByName("Root").script.game,this.screenUI=this.app.root.findByName("Main Shop"),this.game.closeBuySellScreen(this.screenUI),this.game.unFreeze()};var PurchaseItems=pc.createScript("purchaseItems");PurchaseItems.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},PurchaseItems.prototype.update=function(t){},PurchaseItems.prototype.onPress=function(){this.shopUI=this.app.root.findByName("Buy Shop"),this.game=this.app.root.findByName("Root").script.game;var t=parseInt(this.app.root.findByName("Final Total Cost Text").element.text);if(this.game.balance>=t){this.game.decreaseMyBalance(t),this.app.root.findByName("Warning Message")&&this.app.root.findByName("Warning Message").destroy();var e=parseInt(this.app.root.findByName("Wood Quantity Text").element.text),a=parseInt(this.app.root.findByName("Wheat Quantity Text").element.text),o=parseInt(this.app.root.findByName("Coal Quantity Text").element.text);this.game.updateInventory(!0,e,a,o);var i=parseInt(this.app.root.findByName("Ship Repair Quantity Text").element.text);this.game.addHealth(i),this.screenUI=this.app.root.findByName("Main Shop"),this.shopUI.enabled=!1,this.screenUI.enabled=!0,this.app.root.findByName("woodCounterText").element.text=this.game.myWood,this.app.root.findByName("coalCounterText").element.text=this.game.myCoal,this.app.root.findByName("wheatCounterText").element.text=this.game.myWheat,this.app.root.findByName("Money").element.text="$"+this.game.balance;var n=this.app.root.findByName("Wood Quantity"),s=this.app.root.findByName("Wheat Quantity"),p=this.app.root.findByName("Coal Quantity"),r=this.app.root.findByName("Ship Repair Quantity");n.script.uiStats.setValue(0),s.script.uiStats.setValue(0),p.script.uiStats.setValue(0),r.script.uiStats.setValue(0),this.app.root.findByName("Wood Total Cost Text").element.text=0,this.app.root.findByName("Wheat Total Cost Text").element.text=0,this.app.root.findByName("Coal Total Cost Text").element.text=0,this.app.root.findByName("Ship Repair Total Cost Text").element.text=0,this.app.root.findByName("Final Total Cost Text").element.text=0}else{var h=new pc.Entity;h.name="Warning Message",h.addComponent("element",{type:pc.ELEMENTTYPE_TEXT,alignment:new pc.Vec2(.5,.5),anchor:new pc.Vec4(.4,.5,.5,.5),color:new pc.Color(0,0,0,1),pivot:new pc.Vec2(.5,.5),width:151,height:60,fontAsset:40393281,fontSize:24}),h.element.text="You do not have enough money!",h.setLocalPosition(-270,-200,0),this.shopUI.addChild(h)}};var FuelBar=pc.createScript("fuelBar");FuelBar.attributes.add("progressImage",{type:"entity"}),FuelBar.attributes.add("progressImageMaxWidth",{type:"number"}),FuelBar.prototype.initialize=function(){this.maxFuelValue=500,this.fuelValue=500,this.setProgress(this.fuelValue/this.maxFuelValue),this.game=this.app.root.findByName("Root").script.game,this.game.on("setFuelValue",this.setFuelValue,this)},FuelBar.prototype.update=function(e){var t=this.fuelValue/this.maxFuelValue*100;t>=85?this.progressImage.element.color=pc.Color.GREEN:t>=50?this.progressImage.element.color=pc.Color.YELLOW:t>=25?this.progressImage.element.color=pc.Color.MAGENTA:t>0&&(this.progressImage.element.color=pc.Color.RED)},FuelBar.prototype.setProgress=function(e){e=pc.math.clamp(e,0,1),this.progress=e;var t=pc.math.lerp(0,this.progressImageMaxWidth,e);this.progressImage.element.width=t,this.progressImage.element.rect.z=e,this.progressImage.element.rect=this.progressImage.element.rect},FuelBar.prototype.setFuelValue=function(e){var t=e/this.maxFuelValue;this.setProgress(t),this.fuelValue=e};var perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151],Shake=pc.createScript("shake");Shake.prototype.initialize=function(){this.timer=0,this.shaking=!1,this.amplitude=1,this.duration=0,this.frequency=10,this.x=0,this.y=0,this.z=0,this.offset=new pc.Vec3,this.position=new pc.Vec3,this.on("enable",(function(){this.reset()}))},Shake.prototype.reset=function(){this.shaking=!1,this.offset.set(0,0,0),this.entity.setLocalPosition(this.position)},Shake.prototype.shake=function(t,i){this.shaking||(this.duration=i,this.timer=0,this.shaking=!0,this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.position.copy(this.entity.getLocalPosition()),console.log("shake"))},Shake.prototype.getShake=function(t){if(this.shaking){var i=1-this.timer/this.duration;this.offset.x=this.getNoise(this.x)*this.amplitude*i,this.offset.y=this.getNoise(this.y)*this.amplitude*i,this.offset.z=this.getNoise(this.z)*this.amplitude*i,this.timer+=t,this.timer>this.duration&&this.reset(),i=this.frequency*t,this.x+=i,this.y+=i,this.z+=i}else this.offset.set(0,0,0);return this.offset},Shake.prototype.fade=function(t){return t*t*t*(t*(6*t-15)+10)},Shake.prototype.lerp=function(t,i,s){return i+t*(s-i)},Shake.prototype.getNoise=function(t){var i=Math.floor(t);t-=i;var s=this.fade(t),e=1&perm[i]?t:-t,h=1&perm[i+1]?t-1:1-t;return this.lerp(s,e,h)};var Camera=pc.createScript("camera"),dir=new pc.Vec3,zoom=new pc.Vec3,forward=new pc.Vec3,desiredPosition=new pc.Vec3,lastTargetPosition=new pc.Vec3;Camera.prototype.initialize=function(){this.origin=new pc.Vec3(0,0,0),this.game=this.app.root.findByName("Root").script.game,this.shaker=this.entity.script.shake},Camera.prototype.update=function(e){};var Rotate=pc.createScript("rotate");Rotate.attributes.add("speed",{type:"number",default:5}),Rotate.prototype.initialize=function(){this.inverse=!1},Rotate.prototype.update=function(t){console.log(this.entity.getRotation().y),!this.inverse&&this.entity.getRotation().y>=.1?this.inverse=!0:this.inverse&&this.entity.getRotation().y<=-.1&&(this.inverse=!1),this.inverse?this.entity.rotate(0,-this.speed*t,0):this.inverse||this.entity.rotate(0,this.speed*t,0)};var Ui=pc.createScript("ui");Ui.prototype.initialize=function(){},Ui.prototype.update=function(i){};var UI=pc.createScript("ui");UI.prototype.initialize=function(){var e=this.app.root.findByName("Root").script.game;e.on("splashscreen",this.onSplashScreen,this),e.on("startgame",this.onStartGame,this),this.screens={initial:this.entity.findByName("ScreenInitial")}},UI.prototype.onPostInitialize=function(){this.reset()},UI.prototype.reset=function(){for(var e in this.screens)this.screens.hasOwnProperty(e)&&(this.screens[e].enabled=!1);this.currentScreen=null},UI.prototype.onSplashScreen=function(){this.showScreen("initial")},UI.prototype.onStartGame=function(){this.showScreen("ingame")},UI.prototype.onPause=function(){this.showScreen("pause")},UI.prototype.onUnpause=function(){this.showScreen("ingame")},UI.prototype.onLeaderboard=function(){this.showScreen("leaderboard")},UI.prototype.showScreen=function(e){if(this.currentScreen){if(this.currentScreen===e)return;this.hideScreen(this.currentScreen)}return this.currentScreen=e,this.screens[e].enabled=!0,this.screens[e]},UI.prototype.hideScreen=function(e){this.currentScreen=null,this.screens[e].enabled=!1};var UiInitial=pc.createScript("uiInitial");UiInitial.prototype.initialize=function(){this.playButton=this.entity.findByName("SpritePlay"),this.playButton.element.on("click",this.onPlayClicked,this),this.game=this.app.root.findByName("Root").script.game},UiInitial.prototype.onPlayClicked=function(){this.game.audio.playClickSound(),this.game.startGame()},UiInitial.prototype.update=function(i){(this.app.keyboard.wasPressed(pc.KEY_SPACE)||this.app.keyboard.wasPressed(pc.KEY_RETURN))&&this.onPlayClicked()};var SellItems=pc.createScript("sellItems");SellItems.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},SellItems.prototype.update=function(){},SellItems.prototype.onPress=function(e){this.shopUI=this.app.root.findByName("Sell Shop"),this.screenUI=this.app.root.findByName("Main Shop"),this.game=this.app.root.findByName("Root").script.game;var t=parseInt(this.app.root.findByName("Wood Sell Quantity Text").element.text),o=parseInt(this.app.root.findByName("Wheat Sell Quantity Text").element.text),a=parseInt(this.app.root.findByName("Coal Sell Quantity Text").element.text);if(t<=this.game.myWood&&o<=this.game.myWheat&&a<=this.game.myCoal){var i=parseInt(this.app.root.findByName("Wood Sell Price Text").element.text)*t+parseInt(this.app.root.findByName("Wood Sell Price Text").element.text)*o+parseInt(this.app.root.findByName("Wood Sell Price Text").element.text)*a;this.game.updateInventory(!1,t,o,a),this.game.addMyBalance(i),this.app.root.findByName("woodCounterText").element.text=this.game.myWood,this.app.root.findByName("coalCounterText").element.text=this.game.myCoal,this.app.root.findByName("wheatCounterText").element.text=this.game.myWheat,this.app.root.findByName("Money").element.text="$"+this.game.balance,this.shopUI.enabled=!1,this.screenUI.enabled=!0;var n=this.app.root.findByName("Wood Sell Quantity"),l=this.app.root.findByName("Wheat Sell Quantity"),s=this.app.root.findByName("Coal Sell Quantity");n.script.sellUiStats.setValue(0),l.script.sellUiStats.setValue(0),s.script.sellUiStats.setValue(0),this.app.root.findByName("Wood Sell Total Cost Text").element.text=0,this.app.root.findByName("Wheat Sell Total Cost Text").element.text=0,this.app.root.findByName("Coal Sell Total Cost Text").element.text=0,this.app.root.findByName("Final Sell Total Cost Text").element.text=0}else{var p=new pc.Entity;p.name="Warning Message",p.addComponent("element",{type:pc.ELEMENTTYPE_TEXT,alignment:new pc.Vec2(.5,.5),anchor:new pc.Vec4(.4,.5,.5,.5),color:new pc.Color(0,0,0,1),pivot:new pc.Vec2(.5,.5),width:151,height:60,fontAsset:40393281,fontSize:24}),p.element.text="You do not have enough items!",p.setLocalPosition(-270,-200,0),this.shopUI.addChild(p)}};var UiInGame=pc.createScript("uiInGame");UiInGame.prototype.initialize=function(){var t=this.app;this.game=t.root.findByName("Root").script.game,this.pauseButton=this.entity.findByName("SpritePause"),this.lowFuel=this.entity.findByName("SpriteLowFuel"),this.lowHealth=this.entity.findByName("SpriteLowHealth"),this.pauseButton.element.on("click",this.onPauseClicked,this),this.game.on("fuellow",this.onFuelLow,this),this.game.on("healthlow",this.onHealthLow,this),this.reset()},UiInGame.prototype.reset=function(){},UiInGame.prototype.postInitialize=function(){},UiInGame.prototype.onEnable=function(){var t=this.app,e=this;this.onStreakChanged(this.streak),this.hasFuel||this.onFuelOut();var i=this.entity.findByName("SpritePause");if(e.game.firstPlay){i.enabled=!1;var o=!0,fn=function(){o?o=!1:(e.game.paused=!1,i.enabled=!0,t.mouse.off("mousedown",fn,this),t.touch&&t.touch.off("touchstart",fn,this))};t.mouse.on("mousedown",fn,this),t.touch&&t.touch.on("touchstart",fn,this)}},UiInGame.prototype.onDisable=function(){this.lowFuel.enabled=!1,this.gameoverSprite.enabled=!1,this.noFuel.enabled=!1;for(var t=0,e=this.bonusStreak.length;t<e;t++)this.bonusStreak[t].enabled=!1},UiInGame.prototype.onPauseClicked=function(){this.game.audio.playClickSound(),this.game.pause()},UiInGame.prototype.onGameOver=function(t,e){},UiInGame.prototype.onFuelLow=function(){this.lowFuel.enabled=!0},UiInGame.prototype.onHealthLow=function(){this.lowHealth.enabled=!0};var UiPaused=pc.createScript("uiPaused");UiPaused.attributes.add("boat",{type:"entity",description:"Optional, assign a camera entity, otherwise one is created"}),UiPaused.prototype.initialize=function(){this.playButton=this.entity.findByName("SpritePlay"),this.exitButton=this.entity.findByName("SpriteExit"),this.restartButton=this.entity.findByName("SpriteRestart"),this.soundOnButton=this.entity.findByName("SpriteSoundOn"),this.soundOffButton=this.entity.findByName("SpriteSoundOff"),this.musicOnButton=this.entity.findByName("SpriteMusicOn"),this.musicOffButton=this.entity.findByName("SpriteMusicOff"),this.playButton.element.on("click",this.onPlayClicked,this),this.exitButton.element.on("click",this.onExitClicked,this),this.restartButton.element.on("click",this.onRestartClicked,this),this.soundOnButton.element.on("click",this.onSoundOnClicked,this),this.soundOffButton.element.on("click",this.onSoundOffClicked,this),this.musicOnButton.element.on("click",this.onMusicOnClicked,this),this.musicOffButton.element.on("click",this.onMusicOffClicked,this),this.game=this.app.root.findByName("Root").script.game,this.initAudio(),this.on("enable",(function(){this.initAudio()}))},UiPaused.prototype.onPlayClicked=function(){this.game.audio.playClickSound(),this.game.unpause()},UiPaused.prototype.onExitClicked=function(){this.game.audio.playClickSound(),this.game.splashScreen()},UiPaused.prototype.onRestartClicked=function(){this.game.audio.playClickSound(),this.game.restart()},UiPaused.prototype.onSoundOnClicked=function(){this.game.audio.playClickSound(),this.game.audio.toggleSounds(!1),this.soundOnButton.enabled=!1,this.soundOffButton.enabled=!0},UiPaused.prototype.onSoundOffClicked=function(){this.game.audio.playClickSound(),this.game.audio.toggleSounds(!0),this.soundOnButton.enabled=!0,this.soundOffButton.enabled=!1},UiPaused.prototype.onMusicOnClicked=function(){this.game.audio.playClickSound(),this.game.audio.toggleMusic(!1),this.musicOnButton.enabled=!1,this.musicOffButton.enabled=!0},UiPaused.prototype.onMusicOffClicked=function(){this.game.audio.playClickSound(),this.game.audio.toggleMusic(!0),this.musicOnButton.enabled=!0,this.musicOffButton.enabled=!1},UiPaused.prototype.initAudio=function(){};var SellUiStats=pc.createScript("sellUiStats");SellUiStats.prototype.initialize=function(){this.btnPlus=this.entity.findByName("btn-plus"),this.btnMinus=this.entity.findByName("btn-minus"),this.progressBar=this.entity.findByName("progress-bar"),this.progressText=this.progressBar.findByName("text"),this.value=0;this.app.root.findByName("Wood Sell Price Text").element.text,this.app.root.findByName("Wheat Sell Price Text").element.text,this.app.root.findByName("Coal Sell Price Text").element.text;this.setValue(0),this.btnPlus.element.on("click",this.sellAddButton,this),this.btnMinus.element.on("click",this.sellSubtractButton,this)},SellUiStats.prototype.update=function(t){this.game=this.app.root.findByName("Root").script.game,this.woodPrice=this.game.woodPrice,this.wheatPrice=this.game.wheatPrice,this.coalPrice=this.game.coalPrice},SellUiStats.prototype.setValue=function(t){this.value=pc.math.clamp(t,0,1e4),this.progressText.element.text=this.value+""},SellUiStats.prototype.sellAddButton=function(){this.setValue(this.value+1),"Wood Sell Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wood Sell Total Cost Text").element.text=this.value*this.woodPrice,this.app.root.findByName("Wood Sell Quantity Text").element.text=this.value):"Wheat Sell Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wheat Sell Total Cost Text").element.text=this.value*this.wheatPrice,this.app.root.findByName("Wheat Sell Quantity Text").element.text=this.value):"Coal Sell Quantity"==this.btnPlus.parent.name&&(this.app.root.findByName("Coal Sell Total Cost Text").element.text=this.value*this.coalPrice,this.app.root.findByName("Coal Sell Quantity Text").element.text=this.value);var t=parseInt(this.app.root.findByName("Wood Sell Total Cost Text").element.text)+parseInt(this.app.root.findByName("Wheat Sell Total Cost Text").element.text)+parseInt(this.app.root.findByName("Coal Sell Total Cost Text").element.text);this.app.root.findByName("Final Sell Total Cost Text").element.text=t,this.app.root.findByName("Sell Items Text").element.text="Sell Items for "+t},SellUiStats.prototype.sellSubtractButton=function(){this.setValue(this.value-1),"Wood Sell Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wood Sell Total Cost Text").element.text=this.value*this.woodPrice,this.app.root.findByName("Wood Sell Quantity Text").element.text=this.value):"Wheat Sell Quantity"==this.btnPlus.parent.name?(this.app.root.findByName("Wheat Sell Total Cost Text").element.text=this.value*this.wheatPrice,this.app.root.findByName("Wheat Sell Quantity Text").element.text=this.value):"Coal Sell Quantity"==this.btnPlus.parent.name&&(this.app.root.findByName("Coal Sell Total Cost Text").element.text=this.value*this.coalPrice,this.app.root.findByName("Coal Sell Quantity Text").element.text=this.value);var t=parseInt(this.app.root.findByName("Wood Sell Total Cost Text").element.text)+parseInt(this.app.root.findByName("Wheat Sell Total Cost Text").element.text)+parseInt(this.app.root.findByName("Coal Sell Total Cost Text").element.text);this.app.root.findByName("Final Sell Total Cost Text").element.text=t,this.app.root.findByName("Sell Items Text").element.text="Sell Items for "+t};var SplashBoat=pc.createScript("splashBoat");SplashBoat.attributes.add("rollSpeed",{type:"number",default:5}),SplashBoat.attributes.add("rollAcceleration",{type:"number",default:7}),SplashBoat.attributes.add("maxRoll",{type:"number",default:2}),SplashBoat.attributes.add("panAmount",{type:"number",default:.1});var euler=new pc.Vec3;SplashBoat.prototype.initialize=function(){this.roll=0,this.rollVel=0,this.rollAcc=this.rollAcceleration,this.pan=this.entity.getLocalPosition().x,this.gameCamera=this.app.root.findByName("SplashCamera")},SplashBoat.prototype.update=function(t){this.rollVel=pc.math.clamp(this.rollVel+this.rollAcc*t,-this.rollSpeed,this.rollSpeed),this.roll+=this.rollVel*t,this.roll>this.maxRoll&&this.rollAcc>0?this.rollAcc=-this.rollAcceleration:this.roll<-this.maxRoll&&this.rollAcc<0&&(this.rollAcc=this.rollAcceleration);var l=this.entity.getLocalRotation();l.getEulerAngles(euler),euler.z=this.roll,l.setFromEulerAngles(euler.x,euler.y,euler.z),this.entity.setLocalRotation(l);var e=this.entity.getLocalPosition();e.x=this.pan-this.roll*this.panAmount,this.entity.setLocalPosition(e)};var RefuelShip=pc.createScript("refuelShip");RefuelShip.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},RefuelShip.prototype.update=function(e){},RefuelShip.prototype.onPress=function(){this.fuelUI=this.app.root.findByName("Refuel Shop"),this.game=this.app.root.findByName("Root").script.game;var e=parseInt(this.app.root.findByName("Fuel Price Text").element.text);if(this.game.balance>=e)this.game.fuel=500,this.game.decreaseMyBalance(e),this.app.root.findByName("Warning Message")&&this.app.root.findByName("Warning Message").destroy(),this.game.fuelPrice+=10,this.app.root.findByName("Fuel Price Text").element.text=this.game.fuelPrice,this.app.root.findByName("Money").element.text="$"+this.game.balance,this.app.root.findByName("Refueling Text").element.text="Refuel for "+this.game.fuelPrice,this.game.unFreeze(),this.game.closeBuySellScreen(this.fuelUI);else{var t=new pc.Entity;t.name="Warning Message",t.addComponent("element",{type:pc.ELEMENTTYPE_TEXT,alignment:new pc.Vec2(.5,.5),anchor:new pc.Vec4(.4,.5,.5,.5),color:new pc.Color(0,0,0,1),pivot:new pc.Vec2(.5,.5),width:151,height:60,fontAsset:40393281,fontSize:24}),t.element.text="You do not have enough money!",t.setLocalPosition(-270,-200,0),this.fuelUI.addChild(t)}};var BackFuel=pc.createScript("backFuel");BackFuel.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},BackFuel.prototype.onPress=function(e){this.game=this.app.root.findByName("Root").script.game,this.fuelUI=this.app.root.findByName("Refuel Shop"),this.game.closeBuySellScreen(this.fuelUI),this.game.unFreeze(),this.app.root.findByName("Warning Message")&&this.app.root.findByName("Warning Message").destroy()};var UiTweener=pc.createScript("uiTweener");UiTweener.attributes.add("from",{type:"vec3"}),UiTweener.attributes.add("to",{type:"vec3"}),UiTweener.attributes.add("duration",{type:"number",default:.5}),UiTweener.attributes.add("easing",{type:"string",default:"Linear.None"}),UiTweener.attributes.add("reverseAfter",{type:"number",default:1}),UiTweener.attributes.add("disableOnEnd",{type:"boolean",default:!1}),UiTweener.prototype.initialize=function(){this.playingReverse=!1,this.entity.setLocalPosition(this.from),this.startTween(this.from,this.to),this.on("enable",(function(){this.playingReverse=!1,this.entity.setLocalPosition(this.from),this.startTween(this.from,this.to)})),this.on("disable",(function(){this.tween&&(this.tween.stop(),this.tween=null)}))},UiTweener.prototype.startTween=function(e,t,i){var n=this,s=this.easing.split("."),r=TWEEN.Easing[s[0]][s[1]];this.tween=new TWEEN.Tween({x:e.x,y:e.y}).to({x:t.x,y:t.y},1e3*n.duration).easing(r).delay(void 0===i?0:i).onUpdate((function(){n.entity.setLocalPosition(this.x,this.y,0)})).onComplete((function(){n.tween=null,n.reverseAfter>0&&!n.playingReverse?(n.playingReverse=!0,n.startTween(t,e,1e3*n.reverseAfter)):n.disableOnEnd&&(n.entity.enabled=!1)})).start()};"use strict";void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var TWEEN=TWEEN||function(){var n=[];return{REVISION:"12",getAll:function(){return n},removeAll:function(){n=[]},add:function(t){n.push(t)},remove:function(t){-1!==(t=n.indexOf(t))&&n.splice(t,1)},update:function(t){if(0===n.length)return!1;var r=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();r<n.length;)n[r].update(t)?r++:n.splice(r,1);return!0}}}();TWEEN.Tween=function(n){var t,r={},i={},u={},o=1e3,e=0,a=!1,f=!1,c=0,s=null,h=TWEEN.Easing.Linear.None,l=TWEEN.Interpolation.Linear,p=[],E=null,I=!1,w=null,M=null;for(t in n)r[t]=parseFloat(n[t],10);this.to=function(n,t){return void 0!==t&&(o=t),i=n,this},this.start=function(t){for(var o in TWEEN.add(this),f=!0,I=!1,s=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),s+=c,i){if(i[o]instanceof Array){if(0===i[o].length)continue;i[o]=[n[o]].concat(i[o])}r[o]=n[o],!1==r[o]instanceof Array&&(r[o]*=1),u[o]=r[o]||0}return this},this.stop=function(){return f?(TWEEN.remove(this),f=!1,this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var n=0,t=p.length;n<t;n++)p[n].stop()},this.delay=function(n){return c=n,this},this.repeat=function(n){return e=n,this},this.yoyo=function(n){return a=n,this},this.easing=function(n){return h=n,this},this.interpolation=function(n){return l=n,this},this.chain=function(){return p=arguments,this},this.onStart=function(n){return E=n,this},this.onUpdate=function(n){return w=n,this},this.onComplete=function(n){return M=n,this},this.update=function(t){var f;if(t<s)return!0;!1===I&&(null!==E&&E.call(n),I=!0);var d,v=h(d=1<(d=(t-s)/o)?1:d);for(f in i){var O=r[f]||0,N=i[f];N instanceof Array?n[f]=l(N,v):("string"==typeof N&&(N=O+parseFloat(N,10)),"number"==typeof N&&(n[f]=O+(N-O)*v))}if(null!==w&&w.call(n,v),1==d){if(!(0<e)){for(null!==M&&M.call(n),f=0,d=p.length;f<d;f++)p[f].start(t);return!1}for(f in isFinite(e)&&e--,u)"string"==typeof i[f]&&(u[f]+=parseFloat(i[f],10)),a&&(d=u[f],u[f]=i[f],i[f]=d),r[f]=u[f];s=t+c}return!0}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return 1>(n*=2)?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return 1>(n*=2)?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return 1>(n*=2)?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return 1>(n*=2)?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:1>(n*=2)?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return 1>(n*=2)?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/.4))},Out:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin(2*(n-t)*Math.PI/.4)+1)},InOut:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||1>r?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),1>(n*=2)?-.5*r*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/.4):.5*r*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-t)*Math.PI/.4)+1)}},Back:{In:function(n){return n*n*(2.70158*n-1.70158)},Out:function(n){return--n*n*(2.70158*n+1.70158)+1},InOut:function(n){return 1>(n*=2)?.5*n*n*(3.5949095*n-2.5949095):.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return.5>n?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),o=TWEEN.Interpolation.Utils.Linear;return 0>t?o(n[0],n[1],i):1<t?o(n[r],n[r-1],r-i):o(n[u],n[u+1>r?r:u+1],i-u)},Bezier:function(n,t){var r,i=0,u=n.length-1,o=Math.pow,e=TWEEN.Interpolation.Utils.Bernstein;for(r=0;r<=u;r++)i+=o(1-t,u-r)*o(t,r)*n[r]*e(u,r);return i},CatmullRom:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),o=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(0>t&&(u=Math.floor(i=r*(1+t))),o(n[(u-1+r)%r],n[u],n[(u+1)%r],n[(u+2)%r],i-u)):0>t?n[0]-(o(n[0],n[0],n[1],n[1],-i)-n[0]):1<t?n[r]-(o(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):o(n[u?u-1:0],n[u],n[r<u+1?r:u+1],n[r<u+2?r:u+2],i-u)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=TWEEN.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var n=[1];return function(t){var r,i=1;if(n[t])return n[t];for(r=t;1<r;r--)i*=r;return n[t]=i}}(),CatmullRom:function(n,t,r,i,u){var o=u*u;return(2*t-2*r+(n=.5*(r-n))+(i=.5*(i-t)))*u*o+(-3*t+3*r-2*n-i)*o+n*u+t}}};var UiGameover=pc.createScript("uiGameover");UiGameover.prototype.initialize=function(){this.restartButton=this.entity.findByName("SpriteRestart"),this.game=this.app.root.findByName("Root").script.game,this.restartButton.element.on("click",this.onRestartClicked,this)},UiGameover.prototype.update=function(t){},UiGameover.prototype.onRestartClicked=function(){this.game.audio.playClickSound(),this.game.restart()};var BackFromSellShop=pc.createScript("backFromSellShop");BackFromSellShop.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},BackFromSellShop.prototype.update=function(t){},BackFromSellShop.prototype.onPress=function(){this.shopUI=this.app.root.findByName("Main Shop"),this.buyUI=this.app.root.findByName("Buy Shop"),this.sellUI=this.app.root.findByName("Sell Shop"),this.app.root.findByName("Warning Message")&&this.app.root.findByName("Warning Message").destroy(),this.shopUI.enabled=!0,this.buyUI.enabled=!1,this.sellUI.enabled=!1;var t=this.app.root.findByName("Wood Sell Quantity"),e=this.app.root.findByName("Wheat Sell Quantity"),o=this.app.root.findByName("Coal Sell Quantity");t.script.sellUiStats.setValue(0),e.script.sellUiStats.setValue(0),o.script.sellUiStats.setValue(0),this.app.root.findByName("Wood Sell Total Cost Text").element.text=0,this.app.root.findByName("Wheat Sell Total Cost Text").element.text=0,this.app.root.findByName("Coal Sell Total Cost Text").element.text=0,this.app.root.findByName("Final Sell Total Cost Text").element.text=0};var BackFromBuyShop=pc.createScript("backFromBuyShop");BackFromBuyShop.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},BackFromBuyShop.prototype.update=function(t){},BackFromBuyShop.prototype.onPress=function(){this.shopUI=this.app.root.findByName("Main Shop"),this.buyUI=this.app.root.findByName("Buy Shop"),this.sellUI=this.app.root.findByName("Sell Shop"),this.app.root.findByName("Warning Message")&&this.app.root.findByName("Warning Message").destroy(),this.shopUI.enabled=!0,this.buyUI.enabled=!1,this.sellUI.enabled=!1;var t=this.app.root.findByName("Wood Quantity"),e=this.app.root.findByName("Wheat Quantity"),o=this.app.root.findByName("Coal Quantity"),a=this.app.root.findByName("Ship Repair Quantity");t.script.uiStats.setValue(0),e.script.uiStats.setValue(0),o.script.uiStats.setValue(0),a.script.uiStats.setValue(0),this.app.root.findByName("Wood Total Cost Text").element.text=0,this.app.root.findByName("Wheat Total Cost Text").element.text=0,this.app.root.findByName("Coal Total Cost Text").element.text=0,this.app.root.findByName("Ship Repair Total Cost Text").element.text=0,this.app.root.findByName("Final Total Cost Text").element.text=0};

//# sourceMappingURL=__game-scripts.js.map